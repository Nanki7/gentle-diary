<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gentle Diary</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Gentle Diary</h1>
        <p class="subtitle">A safe space for your thoughts and feelings</p>
    </header>

    <main>
        <!-- Stepper UI -->
        <div class="stepper" aria-label="Progress">
            <div class="stepper-indicator">
                <span class="step-number" id="current-step">1</span>
                <span class="step-label">of 2</span>
            </div>
        </div>

        <!-- Step 1: Mood Selection -->
        <section id="step-1" class="step-section active" aria-labelledby="step-1-title">
            <h2 id="step-1-title">How are you feeling today?</h2>
            <div class="mood-selection" role="radiogroup" aria-labelledby="step-1-title">
                <button class="mood-button" 
                        data-mood="happy" 
                        role="radio" 
                        aria-pressed="false"
                        aria-label="Happy">
                    <span class="mood-emoji">ğŸ˜Š</span>
                    <span class="mood-label">Happy</span>
                </button>
                <button class="mood-button" 
                        data-mood="down" 
                        role="radio" 
                        aria-pressed="false"
                        aria-label="Down">
                    <span class="mood-emoji">ğŸ˜</span>
                    <span class="mood-label">Down</span>
                </button>
                <button class="mood-button" 
                        data-mood="angry" 
                        role="radio" 
                        aria-pressed="false"
                        aria-label="Angry">
                    <span class="mood-emoji">ğŸ˜¡</span>
                    <span class="mood-label">Angry</span>
                </button>
                <button class="mood-button" 
                        data-mood="neutral" 
                        role="radio" 
                        aria-pressed="false"
                        aria-label="Neutral">
                    <span class="mood-emoji">ğŸ˜</span>
                    <span class="mood-label">Neutral</span>
                </button>
                <button class="mood-button" 
                        data-mood="overwhelmed" 
                        role="radio" 
                        aria-pressed="false"
                        aria-label="Overwhelmed">
                    <span class="mood-emoji">ğŸ˜£</span>
                    <span class="mood-label">Overwhelmed</span>
                </button>
            </div>
            <button id="next-button" class="primary-button" disabled>Continue</button>
        </section>

        <!-- Step 2: Reflection -->
        <section id="step-2" class="step-section" aria-labelledby="step-2-title" hidden>
            <h2 id="step-2-title">Take a moment to reflect</h2>
            <div class="reflection-container">
                <textarea 
                    id="reflection-textarea" 
                    placeholder="Write a few sentences about how you're feeling todayâ€¦"
                    maxlength="800"
                    rows="6"
                    aria-label="Reflection text"></textarea>
                <div class="char-counter">
                    <span id="char-count">0</span>/800
                </div>
            </div>
            <div class="button-group">
                <button id="back-button" class="secondary-button">Back</button>
                <button id="save-button" class="primary-button" disabled>Save & Generate Encouragement</button>
            </div>
        </section>

        <!-- AI Encouragement Result -->
        <section id="encouragement-section" class="encouragement-section" hidden>
            <div class="encouragement-card">
                <h3>Your Encouragement</h3>
                <p id="encouragement-text" class="encouragement-text"></p>
            </div>
            <button id="new-entry-button" class="primary-button">Write another entry</button>
        </section>

        <!-- Diary Section -->
        <section id="diary-section" class="diary-section">
            <h2>Your Diary</h2>
            <p class="privacy-note">Your data is only stored on this device.</p>
            <div id="diary-entries" class="diary-entries">
                <!-- Entries will be dynamically inserted here -->
            </div>
            <div id="empty-state" class="empty-state" hidden>
                <p>No entries yet. Start by selecting your mood above.</p>
            </div>
        </section>
    </main>

    <!-- Toast notification -->
    <div id="toast" class="toast" role="alert" aria-live="polite" hidden></div>

    <script src="app.js"></script>
</body>
</html>

